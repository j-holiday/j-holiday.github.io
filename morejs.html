<html>
	<head>
		<title>More Javascript</title>
		<link rel="stylesheet" href="https://j-holiday.github.io/main-php.css">
		<script>
			var users = [
				{
					"Title": "Say my name",
					"Artist": "Destiny's Child",
					"Album": "The writing's on the wall",
					"Duration": "4:31"
				},
				{
					"Title": "Flawless",
					"Artist": "Beyonce",
					"Album": "BEYONCE",
					"Duration": "4:54"
				},
				{
					"Title": "Crush on you",
					"Artist": "Lil Kim",
					"Album": "Not Tonight",
					"Duration": "4:36"
				},
				{
					"Title": "Don't Trip",
					"Artist": "Trina",
					"Album": "Don't Trip",
					"Duration": "3:57"
				},
				{
					"Title": "Pour it up",
					"Artist": "Rihanna",
					"Album": "Unapolegetic",
					"Duration": "2:41"
				}
				];
		</script>
	</head>
	<body>
		<h1>Javascript Looping</h1>
		<h2>Playlist Table</h2>
		<table id="playlist"></table><br><br>
		<h2>New Playlist Table</h2>
		<table>
			<thead>
				<tr><th>Title</th><th>Artist</th><th>Album</th><th>Duration</th></tr>
			</thead>
			<tbody id="newplaylist">
				
			</tbody>
		</table>
		<h2>Playlist Stats Table</h2>
		<table>
			<thead>
				<tr><th># of Songs</th><th># of Artists</th><th>Playlist Length</th></tr>
			</thead>
			<tbody id="playliststats">
				
			</tbody>
		<script>
		function convertBack(a){
			a = a/1000;
  			var seconds = Math.floor(a % 60);
			a = a/60; 
			var minutes = Math.floor(a % 60);
			return minutes + ' minutes, ' + seconds + ' seconds';
			
		}
		function timeToMs(a){
			var minutes = a.split(":")[0],
			    seconds = a.split(":")[1];
			var time1 = new Date(1970,0,01,-5,minutes, seconds);
			time1_ms = time1.getTime(0);
			return time1_ms;
			
		}
		//function add(a){
			
			
			var text = "";
			var newtext = "";
			var stattext = "";
			var msSum = 0;
			for (var x in users) {
				if (users.hasOwnProperty(x)) {
					var obj = users[x];
					for (var y in obj) {
						if (obj.hasOwnProperty(y)) {
							text += "<tr><td align='right'>" + y + "</td><td>" + obj[y] + "</td></tr>";
						}
					}
					newtext += "<tr><td>" + obj['Title'] + "</td><td>"+
					obj['Artist'] + "</td><td>"+
					obj['Album'] +"</td><td>" +
					obj['Duration'] + "</td></tr>";
					//timeToMs(obj['Duration']) + "</td></tr>";
					
					value = timeToMs(obj['Duration']);
					msSum = msSum + value;
					playlistLength = convertBack(msSum);
				
				}
				console.log(Object.keys('Artist'));
			}
			var artistCount = (Object.keys('Artist').length) - 1;
			var songCount = (Object.keys('Song').length) + 1;
			stattext = "<tr><td>" + songCount + "</td><td>" + artistCount + "</td><td>"+ playlistLength + "</td></tr>";
			
			document.getElementById("playlist").innerHTML = text;
			document.getElementById("newplaylist").innerHTML = newtext;
			document.getElementById("playliststats").innerHTML = stattext;
		</script>
	</body>
</html>
